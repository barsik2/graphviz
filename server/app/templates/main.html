<html>
    <head>
        <title>Главная</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename = '/styles/main.css')}}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&family=Noto+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    </head>
    <body>
        {% block content %}
            <div class="header">
                <div class="container_header">
                    <div>
                        <a href="/">
                            <img src="{{ url_for('static', filename='assets/logoWhite.svg') }}" alt="logo">
                        </a>
                    </div>
                    <div class="menu">
                        <a class="menu_main" href="/">
                            Главная
                        </a>
                        <a class="menu_docs" href="/api">
                            Документация
                        </a>
                        <a class="menu_settings" href="/settings">
                            Настройки
                        </a>
                    </div>
                </div>

            </div>
            {% endblock %}
        <div class="container">
            <div class="sidenav" id="sidenav">
                <div class="tabs">
                    <div class="tab">
                        <input type="radio" name="css-tabs" id="tab-1" checked class="tab-switch">
                        <label for="tab-1" class="tab-label">Импорт данных</label>
                        <div class="tab-content">
                            <div class="border_file field__wrapper">
                                <label style="color: white;">Загрузить файл по ссылке</label>

                                <input name="file" type="file" name="file" id="field__file-2" class="field field__file" multiple>

                                <label class="field__file-wrapper" for="field__file-2">
                                  <div class="field__file-fake">Выберите файл</div>
                                  <div class="field__file-button">Выбрать</div>
                                </label>

                             </div>
                             <script lang="JavaScript">
                                let fields = document.querySelectorAll('.field__file');
                                Array.prototype.forEach.call(fields, function (input) {
                                    let label = input.nextElementSibling,
                                        labelVal = label.querySelector('.field__file-fake').innerText;

                                    input.addEventListener('change', function (e) {
                                        let fileName = '';
                                        if (this.files && this.files.length >= 1) {
                                            fileName = this.files[0].name;
                                            if (fileName.length > 14) {
                                                fileName = fileName.substring(0, 14) + '...'; // обрезаем название файла до 14 символов
                                            }
                                        }

                                        if (fileName)
                                            label.querySelector('.field__file-fake').innerText = fileName;
                                        else
                                            label.querySelector('.field__file-fake').innerText = labelVal;
                                    });
                                });
                            </script>
                            <div class="border_url_1">
                              <label style="color: white;">Загрузить файл по ссылке</label>
                              <input style="color: #fff;" class="input" type="url" />
                            </div>
                            <button class="upload_file">Загрузить</button>

                        </div>
                    </div>
                    <div class="tab">
                        <input type="radio" name="css-tabs" id="tab-2" class="tab-switch">
                        <label for="tab-2" class="tab-label">Генерация</label>
                        <div class="tab-content">
                            <form class="generate" method=post action={{generate_path}} enctype=multipart/form-data>
                                <label style="color: white;">Введите количество вершин</label>
                                <input style="color: #fff; margin-top: 5px;" class="input" type="text" name="count" />
                                <label style="display: block; color: white; margin-top: 10px;">Выберите способ генерации</label>
                                <select style="margin-top: 5px;" class="dropdown-menu-export">
                                    <option value="1">
                                        Первый способ
                                    </option>
                                    <option value="2">
                                        Какой то другой способ
                                    </option>
                                </select>

                                <button id="btn_generate" onclick="openModal(event)">Сгенерировать</button>

                                <div id="modal-g" class="modal-g">
                                    <div class="modal-content-g">
                                        <p>Вы уверены, что хотите сгенерировать граф?</p>
                                        <button onclick="closeModal()">Нет</button>
                                        <button id="confirmBtn" type="submit">Да</button>
                                    </div>
                                </div>
                                <script>
                                    const modal_g = document.getElementById('modal-g');
                                    const confirmBtn = document.getElementById('confirmBtn');
                                    let isConfirmed = false;

                                    function openModal(event) {
                                        event.preventDefault();
                                        modal_g.style.display = 'flex';
                                    }

                                    function closeModal() {
                                        modal_g.style.display = 'none';
                                        isConfirmed = false;
                                    }

                                    function generateGraph() {
                                        if (isConfirmed) {
                                            document.querySelector('.generate').submit();
                                        }
                                        closeModal();
                                    }

                                    confirmBtn.addEventListener('click', function() {
                                        isConfirmed = true;
                                        generateGraph();
                                    });
                                </script>
                            </form>
                        </div>
                    </div>
                </div>
              </div>
              <div class="sidenavTwo">

                <div class="tabs">
                    <div class="tab">
                        <input type="radio" name="sidenavTwo-tabs" id="sidenavTwo-tab-1" checked class="tab-switch">
                        <label for="sidenavTwo-tab-1" class="tab-label">Характеристики</label>
                        <div id="sidenavTwo-tab-1-content" class="tab-content">
                            <div class="border_url">
                                <label style="display: block;color: white;">Количество вершин: {{len_nodes}}</label>
                                <label style="display: block;color: white;">Количество ребер: {{len_edges}}</label>
                                <label style="display: block;color: white;">Типы связей: Братья</label>
                                <label style="display: block;color: white;">Количество сообществ: ??</label>
                                <label style="display: block;color: white;">Максимальная степень: {{max_degree}}</label>
                                <label style="display: block;color: white;">Центр: {{center_nodes}}</label>
                                <label style="display: block;color: white;">Самая активная вершина: ??</label>
                            </div>
                            <div class="border_url_export">
                                <label style="display: block;color: white; padding-left: 10px;">Параметры экспорта</label>
                                <select class="dropdown-menu-export">
                                    <option value="1">
                                        .csv
                                    </option>
                                    <option value="2">
                                        .xlsx
                                    </option>
                                </select>
                                <button class="upload_file">Экспортировать</button>
                            </div>
                        </div>
                    </div>
                </div>
              </div>

              <div class="main">
                <!-- <input class="input_name_graph" placeholder="Имя графа" type="text" /> -->

                <div class="panel_graph">
                    <p class="head_name">Проект:    {{name_project}}</p>

                    <div>
                        <button onclick="openMenu()">
                            <img src="{{ url_for('static', filename='assets/icon-menu.png') }}" alt="menu">
                        </button>

                        <button class="btn_full_screen" data-tooltip="Открыть в полноэкранном режиме" onclick="openFullscreen()">
                            <img src="{{ url_for('static', filename='assets/icon-fullScrin.png') }}" alt="fullScreen">
                        </button>

                        <script lang="JavaScript">
                            function openMenu() {
                                const sidenav = document.querySelector(".sidenav");
                                const sidenavTwo = document.querySelector(".sidenavTwo");
                                if (sidenav.style.display === 'block') {
                                    sidenav.style.display = 'none';
                                    sidenavTwo.style.display = 'none';
                                } else {
                                    sidenav.style.display = 'block';
                                    sidenavTwo.style.display = 'block';
                                }
                            }
                        </script>

                        <script>
                            /* Получите элемент, который вы хотите отобразить в полноэкранном режиме (видео в этом примере): */
                            var elem = document.querySelector(".main");

                            /* При выполнении функции open Full screen() откройте видео в полноэкранном режиме.
                            Примечание что мы должны включать префиксы для разных браузеров, так как они еще не поддерживают метод requestFullscreen */
                            function openFullscreen() {
                            if (elem.requestFullscreen) {
                                elem.requestFullscreen();
                            } else if (elem.mozRequestFullScreen) { /* Firefox */
                                elem.mozRequestFullScreen();
                            } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                                elem.webkitRequestFullscreen();
                            } else if (elem.msRequestFullscreen) { /* IE/Edge */
                                elem.msRequestFullscreen();
                            }
                            }
                            </script>
                    </div>

                        <!-- {# include 'components/modalTypeNodes' with isOpen = 'false' #} -->
                </div>



                    <div class="menu_graph">
                        <!-- Кнопка выбора метрики -->

                        <script src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="metricDropdown" data-bs-toggle="dropdown"
            aria-expanded="false">
            Выберите метрику
        </button>
        <ul class="dropdown-menu" aria-labelledby="metricDropdown">
            <li><a class="dropdown-item" href="#" data-metric="2">Центральность по степени</a></li>
            <li><a class="dropdown-item" href="#" data-metric="3">Центральность по близости</a></li>
            <li><a class="dropdown-item" href="#" data-metric="4">Смежные группы</a></li>
        </ul>
    </div>

    <!-- Модальные окна для отображения результатов -->
    <div class="modal fade" id="degreeModal" tabindex="-1" aria-labelledby="degreeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="degreeModalLabel">Центральность по степени</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Здесь будет содержимое модального окна для центральности по степени -->
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="closenessModal" tabindex="-1" aria-labelledby="closenessModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="closenessModalLabel">Центральность по близости</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Здесь будет содержимое модального окна для центральности по близости -->
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="groupsModal" tabindex="-1" aria-labelledby="groupsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="groupsModalLabel">Смежные группы</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Здесь будет содержимое модального окна для смежных групп -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".dropdown-menu a").click(function () {
                var metric = $(this).attr("data-metric");
                switch (metric) {
                    case "2":
                        $('#degreeModal').modal('show');
                        break;
                    case "3":
                        $('#closenessModal').modal('show');
                        break;
                    case "4":
                        $('#groupsModal').modal('show');
                        break;
                    default:
                        break;
                }
            });
        });
    </script>




                        <div style="display: flex;">
                           <!-- Кнопка открытия модального окна для Типа вершин -->
<button id="btnTypeNodes" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalTypeNodes" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Посмотреть таблицу типов вершин">Тип вершин</button>

<!-- Модальное окно для Типа вершин -->
<div class="modal fade" id="modalTypeNodes" tabindex="-1" aria-labelledby="modalTypeNodesLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTypeNodesLabel">Тип вершин</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Bootstrap таблица -->
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Имя</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Здесь вы можете использовать цикл для отображения данных -->
                        <tr>
                            <td>1</td>
                            <td>Test 1</td>
                            <td>
                                <button class="btn btn-danger">Удалить</button>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Test 2</td>
                            <td>
                                <button class="btn btn-danger">Удалить</button>
                            </td>
                        </tr>
                        <!-- Добавьте дополнительные строки по мере необходимости -->
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-outline-secondary">Сохранить изменения</button>
            </div>
        </div>
    </div>
</div>

<!-- Кнопка открытия модального окна для Типа дуг -->
<button id="btnTypeArc" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalTypeArc">Тип дуг</button>

<!-- Модальное окно для Типа дуг -->
<div class="modal fade" id="modalTypeArc" tabindex="-1" aria-labelledby="modalTypeArcLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTypeArcLabel">Тип дуг</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Bootstrap таблица -->
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Имя</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Здесь вы можете использовать цикл для отображения данных -->
                        <tr>
                            <td>1</td>
                            <td>Test 1</td>
                            <td>
                                <button class="btn btn-danger">Удалить</button>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Test 2</td>
                            <td>
                                <button class="btn btn-danger">Удалить</button>
                            </td>
                        </tr>
                        <!-- Добавьте дополнительные строки по мере необходимости -->
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-outline-secondary">Сохранить изменения</button>
            </div>
        </div>
    </div>
</div>

<!-- Кнопка открытия модального окна для Типа ребер -->
<button id="btnTypeEdge" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalTypeEdge">Тип ребер</button>

<!-- Модальное окно для Типа ребер -->
<div class="modal fade" id="modalTypeEdge" tabindex="-1" aria-labelledby="modalTypeEdgeLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTypeEdgeLabel">Тип ребер</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Bootstrap таблица -->
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Имя</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Здесь вы можете использовать цикл для отображения данных -->
                        <tr>
                            <td>1</td>
                            <td>Test 1</td>
                            <td>
                                <button class="btn btn-danger">Удалить</button>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Test 2</td>
                            <td>
                                <button class="btn btn-danger">Удалить</button>
                            </td>
                        </tr>
                        <!-- Добавьте дополнительные строки по мере необходимости -->
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                <button type="button" class="btn btn-outline-secondary">Сохранить изменения</button>
            </div>
        </div>
    </div>
</div>

                        </div>


<!-- Button to open the modal -->
<button id="btn_add_edge" class="btn btn-outline-primary">Добавить отношение</button>

<!-- Bootstrap Modal for adding edge -->
<div id="modalEdge" class="modal fade" tabindex="-1" aria-labelledby="modalEdgeLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title text-white" id="modalEdgeLabel">Добавить отношение</h2>
            </div>
            <form  method="post" action="{{add_edge_path}}" enctype="multipart/form-data">
                <div class="modal-body">
                    <p>Укажите индексы вершин, которые хотите соединить</p>
                    <div class="mb-3">
                        <label for="firstid" class="form-label">Первая вершина</label>
                        <input type="text" class="form-control" id="firstid" name="firstid">
                    </div>
                    <div class="mb-3">
                        <label for="secondid" class="form-label">Вторая вершина</label>
                        <input type="text" class="form-control" id="secondid" name="secondid">
                    </div>
                    <div class="mb-3">
                        <label for="type" class="form-label">Тип связи</label>
                        <select class="form-select" id="type" name="type">
                            <option>Тип связи</option>
                            <option>Братья</option>
                            <option>Друзья</option>
                            <option>Влюбленные</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                    <button type="submit" class="btn btn-primary create_edge">Создать</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script lang="JavaScript">
    var modal_edge = new bootstrap.Modal(document.getElementById('modalEdge'));
    var btn_add_edge = document.getElementById("btn_add_edge");

    btn_add_edge.onclick = function () {
        modal_edge.show();
    }

    modal_edge._element.addEventListener('hidden.bs.modal', function () {
        // Очистить поля формы при закрытии модального окна
        document.querySelector('#modalEdge form').reset();
    });
</script>



<!-- Button to open the modal -->
<button id="myBtn" class="btn btn-outline-primary">Добавить вершину</button>

<!-- Modal -->
<div class="modal" id="myModal">
    <form class="modal-dialog modal-content" method="post" action="{{add_node_path}}" enctype="multipart/form-data">
        <div class="modal-header bg-secondary text-white">
            <h5 class="modal-title text-white">Добавить вершину</h5>
            <button type="button" class="btn-close btn-close-white close-nodes" aria-label="Close"></button>
        </div>
        
        <div class="modal-body">
            <p>Укажите атрибуты вершины:</p>
            <div class="add_nodes">
                <label class="label_modal">
                    <span style="display: block;">Имя*</span>
                    <input class="form-control" type="text" name="firstname" />
                </label>
                <label class="label_modal">
                    <span style="display: block;">Фамилия*</span>
                    <input class="form-control" type="text" name="surname" />
                </label>
                <label class="label_modal">
                    <span style="display: block;">Отчество</span>
                    <input class="form-control" type="text" name="patro" />
                </label>
                <label class="label_modal">
                    <span style="display: block;">Номер телефона:</span>
                    <input class="form-control" type="text" name="phone" />
                </label>
                <label class="label_modal">
                    <span style="display: block;">Имя пользователя</span>
                    <input class="form-control" type="text" name="username" />
                </label>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" value="Upload" class="btn btn-primary create_edge">Добавить</button>
        </div>
    </form>
</div>

<script lang="JavaScript">
    var modal = document.getElementById('myModal');
    var btn = document.getElementById("myBtn");
    var span = document.getElementsByClassName("close-nodes")[0];

    btn.onclick = function () {
        modal.style.display = "block";
    }

    span.onclick = function () {
        modal.style.display = "none";
    }

    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>


<div class="btn-group" role="group" aria-label="Basic radio toggle button group">
    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
    <label class="btn btn-outline-primary" for="btnradio1">Математическое</label>
  
    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
    <label class="btn btn-outline-primary" for="btnradio2">Пользоватаельское</label>
  
  </div>
                </div>

                <div style="width: 100%">
                    <iframe style="width: 100%"  src="{{ url_for('static', filename=nx_file) }}" height="945px", width="100%" frameborder="0"></iframe>
                </div>

                <div id="info_graph" class="info_graph">
                    <div class="block_info">
                        <div class="first_info">
                            <p class="text_info">Тип: </p>
                            <p class="text_info">id:</p>
                            <p class="text_info">ФИО: </p>
                            <p class="text_info">Телефон: ??</p>
                            <p class="text_info">Никнейм: ??</p>
                        </div>

                        <div class="create-line"></div>

                        <div class="first_info">
                            <p id="degree" class="text_info">Степень: 2</p>
                            <p class="text_info">Типы отношений: Вершина</p>
                            <p class="text_info">Средний коэффициент отношений: Вершина</p>
                            <p class="text_info">Влияние в соцсети: Вершина</p>
                       </div>

                        <div class="create-line"></div>

                        <div class="first_info">
                            <p class="text_info">Тип: Вершина</p>
                            <p class="text_info">id: Вершина</p>
                            <p class="text_info">ФИО: Вершина</p>
                            <p class="text_info">Телефон: Вершина</p>
                            <p class="text_info">Никнейм: Вершина</p>
                        </div>
                    </div>

                    <div class="btn_nav_all">
                        <button id="btn_delete_nodes" class="btn_nav">Удалить</button>

                        <div id="modalDelete" class="modal_generate">
                            <div class="modal-header-delete">
                              <span class="close-delete">&times;</span>
                            </div>
                            <div class="modal-body-delete">
                              <p>Вы уверены, что хотите сгенерировать граф с выбранными параметрами?</p>
                            </div>
                            <div class="modal-footer-delete">
                              <button>Нет</button>
                              <button id="delete_node">Да</button>
                            </div>
                      </div>
                      <script lang="JavaScript">
                          var modal_delete = document.getElementById('modalDelete');
                          var btn_delete_nodes = document.getElementById("btn_delete_nodes");
                          var span_delete = document.getElementsByClassName("close-delete")[0];

                          btn_delete_nodes.onclick = function() {
                            modal_delete.style.display = "block";
                          }

                          span_delete.onclick = function() {
                            modal_delete.style.display = "none";
                          }

                          window.onclick = function(event) {
                              if (event.target == modal_delete) {
                                modal_delete.style.display = "none";
                              }
                          }
                      </script>

                        <button class="btn_nav">Дублировать</button>
                        <button class="btn_nav">Редактировать</button>
                        <button class="btn_nav">Соединить</button>
                    </div>

                </div>
                <p id="info_hide"></p>
              </div>
        </div>

    </body>
    <script>
        const container = document.getElementById('info_graph');
        const resultElement = document.getElementById('info_hide');

        var name_project = "{{ name_project }}";

        const typeInfo = document.querySelector('.text_info:nth-child(1)');
        const idInfo = document.querySelector('.text_info:nth-child(2)');
        const fioInfo = document.querySelector('.text_info:nth-child(3)');
        const phoneInfo = document.querySelector('.text_info:nth-child(4)');
        const userInfo = document.querySelector('.text_info:nth-child(5)');
        const degreeInfo = document.getElementById('degree');

        const deleteNode = document.getElementById('delete_node');

        deleteNode.addEventListener('click', function() {
            console.log('sadasf')
            var data = {
                    nodeId: idInfo.textContent,
                };
            const options = {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json',
                },
            };
            console.log('sadasf 2')
            fetch(`http://localhost:5000/${name_project}/delete_node`, options).then(response => {
                if (response.ok) {
                    console.log('Запрос выполнен успешно');
                    location.reload()
                } else {
                    console.error('Произошла ошибка при выполнении запроса');
                }
            }).catch(error => {
                console.error('Произошла сетевая ошибка', error);
            });
        });



        var condition = false; // Замените на ваше условие

        function updateDisplay() {
            if (condition) {
                resultElement.style.display = 'none';
                container.style.display = 'block'; // Показать контейнер
            } else {
                resultElement.style.display = 'block';
                container.style.display = 'none'; // Скрыть контейнер
            }
        }
        updateDisplay();
        function sendPostRequest(nodeId) {
                var data = {
                    nodeId: nodeId,
                    name_project: name_project
                };

            var options = {
                method: 'POST',
                body: JSON.stringify(data),
                headers: {
                    'Content-Type': 'application/json'
                }
            };

            fetch(`http://localhost:5000/${name_project}/select_node`, options)
            .then(function(response) {
                if (response.status === 200) {
                    return response.text(); // Получить текстовое содержимое ответа
                } else {
                    console.error('Ошибка при выполнении POST-запроса');
                }
            })
            .then(function(data) {
                try {
                    const jsonData = JSON.parse(data); // Попробовать распарсить текст как JSON
                    // Ваши действия с распарсенными данными

                    if (jsonData.res_checker != null){
                        condition = true; // Обновить condition

                        console.log(jsonData); // Вывод данных в консоль

                        typeInfo.textContent = 'Тип: ' + jsonData.type; // Предположим, что тип находится в свойстве "type" объекта "data"
                        idInfo.textContent = 'id: ' + jsonData.id; // Предположим, что id находится в свойстве "id" объекта "data"
                        fioInfo.textContent = 'ФИО: ' + jsonData.fio; // Предположим, что ФИО находится в свойстве "fio" объекта "data"\
                        phoneInfo.textContent = 'Телефон: ' + jsonData.phone_number; // Предположим, что ФИО находится в свойстве "fio" объекта "data"
                        userInfo.textContent = 'Никнейм: ' + jsonData.username;
                        degreeInfo.textContent = "Степень: " + jsonData.degree;
                        updateDisplay();

                    }else{
                        condition = false; // Обновить condition
                        updateDisplay();
                    }
    } catch (error) {
      console.error('Ошибка при парсинге JSON: ' + error);
    }
  })
  .catch(function(error) {
    console.error('Ошибка при выполнении POST-запроса: ' + error);
  });

        }
        window.addEventListener('message', function (event) {
            if (event.origin === window.location.origin) {
                sendPostRequest(event.data)
            }
        });

    </script>

    <!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

<!-- Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>



<!-- Скрипт для Типа вершин -->
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        // Инициализация модальных окон
        const modalTypeNodes = new bootstrap.Modal(document.getElementById('modalTypeNodes'));
        const modalTypeArc = new bootstrap.Modal(document.getElementById('modalTypeArc'));
        const modalTypeEdge = new bootstrap.Modal(document.getElementById('modalTypeEdge'));
    
        // Открытие модального окна "Тип вершин"
        document.getElementById('btnTypeNodes').addEventListener('click', function () {
            modalTypeNodes.show();
        });
    
        // Открытие модального окна "Тип дуг"
        document.getElementById('btnTypeArc').addEventListener('click', function () {
            modalTypeArc.show();
        });
    
        // Открытие модального окна "Тип ребер"
        document.getElementById('btnTypeEdge').addEventListener('click', function () {
            modalTypeEdge.show();
        });
    
        // Закрытие модального окна при нажатии на кнопку закрытия
        document.querySelectorAll('.btn-close').forEach(function(btn) {
            btn.addEventListener('click', function() {
                const modal = bootstrap.Modal.getInstance(this.closest('.modal'));
                modal.hide();
            });
        });
    });
    
</script>

<!-- Скрипт для Типа дуг -->
<script>
    $(document).ready(function () {
        // Аналогичные события и логика для Типа дуг
        $('#modalTypeArc').on('show.bs.modal', function (event) {
            // Здесь можете добавить логику, которая выполняется при открытии модального окна для Типа дуг
        });

        $('#modalTypeArc').on('hidden.bs.modal', function (event) {
            // Здесь можете добавить логику, которая выполняется при закрытии модального окна для Типа дуг
        });

        $('#modalTypeArc').on('click', '.btn-danger', function () {
            // Здесь можете добавить логику для удаления записи
            $(this).closest('tr').remove(); // Пример удаления строки из таблицы
        });

        $('#modalTypeArc').on('click', '.btn-primary', function () {
            // Здесь можете добавить логику для добавления новой записи
            var newRow = '<tr><td>New ID</td><td>New Name</td><td><button class="btn btn-danger">Удалить</button></td></tr>';
            $('#modalTypeArc tbody').append(newRow);
        });
    });
</script>

<!-- Скрипт для Типа ребер -->
<script>
    $(document).ready(function () {
        // Аналогичные события и логика для Типа ребер
        $('#modalTypeEdge').on('show.bs.modal', function (event) {
            // Здесь можете добавить логику, которая выполняется при открытии модального окна для Типа ребер
        });

        $('#modalTypeEdge').on('hidden.bs.modal', function (event) {
            // Здесь можете добавить логику, которая выполняется при закрытии модального окна для Типа ребер
        });

        $('#modalTypeEdge').on('click', '.btn-danger', function () {
            // Здесь можете добавить логику для удаления записи
            $(this).closest('tr').remove(); // Пример удаления строки из таблицы
        });

        $('#modalTypeEdge').on('click', '.btn-primary', function () {
            // Здесь можете добавить логику для добавления новой записи
            var newRow = '<tr><td>New ID</td><td>New Name</td><td><button class="btn btn-danger">Удалить</button></td></tr>';
            $('#modalTypeEdge tbody').append(newRow);
        });
    });
</script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>

<!-- Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


</html>
